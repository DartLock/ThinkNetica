## Трамвай Part 4
Рабочая папка приложения https://github.com/DartLock/ThinkNetica/tree/part4-fsm/part4tram

#### Запуск процесса  
```
Tram.start()
```

#### Переход на новое состояние
Переход трамвая в следующее состояние осуществляется функцией `Tram.next()`.  

`Tram.next()` переключает за один раз только одно состояние, например из состояния `:stopped`,  
переходит в состояние закрытых дверей `:doors_closed`.  
Таким образом, следующий вызов `Tram.next()` переведет трамвай в состояние движения `:driving`.  
  
#### Получение текущего состояния
Текущее состояние можно получить через `Tram.current()`;  

#### Остановка процесса  
Что бы перевести процесс трамвая в состояние завершения делается вызов `Tram.stop()`.
Переводит процесс в состояние `:terminating`,
в этом состоянии он уже не может переходить в другие состояния кроме terminated.

#### СХЕМА

```
{:stopped} ---> {:doors_opened} ---> {:doors_closed} ---> {:driving}
    /|\                                                        |
     ----------------------------------------------------------|
```
  
На схеме изображен "цикл" состояния. Каждая новая "итерация" начинатся с `{:stopped}`.
