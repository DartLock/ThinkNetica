## Трамвай Part 4
Рабочая папка приложения https://github.com/DartLock/ThinkNetica/tree/part4-fsm/part4tram

#### Запуск процесса  
```
TramM3.start(:first_street)
```
Первым аргументом выступает однна из улиц, то есть остановка откуда начинается путь трамвая.  
  
  
Возможные аргументы  

```
  :first_street
  :second_street
  :third_street
  :fourth_street
  :fifth_street
  :sixth_street
```

#### Переход на новое состояние
Переход трамвая в следующее состояние осуществляется функцией `TramM3.next()`.  

`TramM3.next()` переключает за один раз только одно состояние, например из состояния `:stopped`,  
переходит в состояние закрытых дверей `:doors_closed`.  
Таким образом, следующий вызов `TramM3.next()` переведет трамвай в состояние движения `:driving`.  
  
#### Получение текущего состояния
Текущее состояние можно получить через `TramM3.current()`;  

#### Остановка процесса  
Что бы перевести процесс трамвая в состояние завершения делается вызов `TramM3.stop()`.
Переводит процесс в состояние `:terminating`,
в этом состоянии он уже не может переходить в другие состояния кроме кроме terminated.

#### СХЕМА

```
{:NEXT_street, :stopped} ---> {:X_street, :doors_opened} ---> {:X_street, :doors_closed} ---> {:X_street, :driving}
       /|\                                                                                           |
        ---------------------------------------------------------------------------------------------|
```
  
На схеме изображен "цикл" состояний. Начинатся с `{:NEXT_street, :stopped}`,  
где вместо `NEXT_street`, каждную "итерацию", то есть когда пройдет весь круг улиц, 
будет менятся на следующую улицу, во время включения значения `:stopped` в состоянии. 
